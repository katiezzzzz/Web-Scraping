from bs4 import BeautifulSoup
import requests

#change to lower
keywords = ["santander", "Amadeus", "Banco Bilbao Vizcaya", "BBVA", "Iberdrola", "Inditex", "Industria de Diseno Textil", "Telefonica"]

class WebClass:
    def __init__(self, URL, words):
#        self.Company = Company
        self.URL = URL
        request = requests.get(self.URL)
        self.cache = BeautifulSoup(request.content, "html.parser").get_text().lower()
        self.keywords = words

    def compare(self):
        newrequest = requests.get(self.URL)
        new = BeautifulSoup(newrequest.content, "html.parser").get_text().lower()

        if new == self.cache:
            print("No new updates")
        else:
            print("New updates")
            for word in self.keywords:
                if word in new:
                    new = new.split('\n')
                    for line in new:
                        if word in line:
                            print(line)

        self.cache = new


example = WebClass("https://www.cnmv.es/portal/HR/HRAldia.aspx?lang=en", keywords)
example.compare()
